---
title: Module ecs/metrics
---

<!-- WARNING: this page was generated by a tool. Do not edit it by hand. -->
<!-- To change it, please see https://github.com/pulumi/docs/tree/master/tools/tscdocgen. -->

<a href="../../">@pulumi/awsx</a> &gt; <a href="../">ecs</a> &gt; metrics

<div class="toggleVisible">
<div class="collapsed">
<h2 class="pdoc-module-header toggleButton" title="Click to show Index">Index ▹</h2>
</div>
<div class="expanded">
<h2 class="pdoc-module-header toggleButton" title="Click to hide Index">Index ▾</h2>
<div class="pdoc-module-contents">
<ul>
<li><a href="#cpuReservation">function cpuReservation</a></li>
<li><a href="#cpuUtilization">function cpuUtilization</a></li>
<li><a href="#gpuReservation">function gpuReservation</a></li>
<li><a href="#memoryReservation">function memoryReservation</a></li>
<li><a href="#memoryUtilization">function memoryUtilization</a></li>
<li><a href="#metric">function metric</a></li>
<li><a href="#EcsMetricChange">interface EcsMetricChange</a></li>
<li><a href="#EcsMetricName">type EcsMetricName</a></li>
</ul>

<a href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts" >}}">ecs/metrics.ts</a> 
</div>
</div>
</div>


<h2 class="pdoc-module-header" id="cpuReservation">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L111" >}}">function <b>cpuReservation</b></a>
</h2>
<div class="pdoc-module-contents">
{{% md %}}

<pre class="highlight"><span class='kd'></span>cpuReservation(change?: <a href='#EcsMetricChange'>EcsMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The percentage of CPU units that are reserved by running tasks in the cluster.

Cluster CPU reservation (this metric can only be filtered by ClusterName) is measured as the
total CPU units that are reserved by Amazon ECS tasks on the cluster, divided by the total
CPU units that were registered for all of the container instances in the cluster. This metric
is only used for tasks using the EC2 launch type.

Valid dimensions: ClusterName.

Valid statistics: Average, Minimum, Maximum, Sum, Sample Count. The most useful statistic is
Average.

Unit: Percent.

{{% /md %}}
</div>
<h2 class="pdoc-module-header" id="cpuUtilization">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L136" >}}">function <b>cpuUtilization</b></a>
</h2>
<div class="pdoc-module-contents">
{{% md %}}

<pre class="highlight"><span class='kd'></span>cpuUtilization(change?: <a href='#EcsMetricChange'>EcsMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The percentage of CPU units that are used in the cluster or service.

Cluster CPU utilization (metrics that are filtered by ClusterName without ServiceName) is
measured as the total CPU units in use by Amazon ECS tasks on the cluster, divided by the
total CPU units that were registered for all of the container instances in the cluster.
Cluster CPU utilization metrics are only used for tasks using the EC2 launch type.

Service CPU utilization (metrics that are filtered by ClusterName and ServiceName) is
measured as the total CPU units in use by the tasks that belong to the service, divided by
the total number of CPU units that are reserved for the tasks that belong to the service.
Service CPU utilization metrics are used for tasks using both the Fargate and the EC2 launch
type.

Valid dimensions: ClusterName, ServiceName.

Valid statistics: Average, Minimum, Maximum, Sum, Sample Count. The most useful statistic is
Average.

Unit: Percent.

{{% /md %}}
</div>
<h2 class="pdoc-module-header" id="gpuReservation">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L197" >}}">function <b>gpuReservation</b></a>
</h2>
<div class="pdoc-module-contents">
{{% md %}}

<pre class="highlight"><span class='kd'></span>gpuReservation(change?: <a href='#EcsMetricChange'>EcsMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The percentage of total available GPUs that are reserved by running tasks in the cluster.

Cluster GPU reservation is measured as the number of GPUs reserved by Amazon ECS tasks on the
cluster, divided by the total number of GPUs that was available on all of the GPU-enabled
container instances in the cluster.

Valid dimensions: ClusterName.

Valid statistics: Average, Minimum, Maximum, Sum, Sample Count. The most useful statistic is
Average.

Unit: Percent.

{{% /md %}}
</div>
<h2 class="pdoc-module-header" id="memoryReservation">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L155" >}}">function <b>memoryReservation</b></a>
</h2>
<div class="pdoc-module-contents">
{{% md %}}

<pre class="highlight"><span class='kd'></span>memoryReservation(change?: <a href='#EcsMetricChange'>EcsMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The percentage of memory that is reserved by running tasks in the cluster.

Cluster memory reservation (this metric can only be filtered by ClusterName) is measured as
the total memory that is reserved by Amazon ECS tasks on the cluster, divided by the total
amount of memory that was registered for all of the container instances in the cluster. This
metric is only used for tasks using the EC2 launch type.

Valid dimensions: ClusterName.

Valid statistics: Average, Minimum, Maximum, Sum, Sample Count. The most useful statistic is
Average.

Unit: Percent.

{{% /md %}}
</div>
<h2 class="pdoc-module-header" id="memoryUtilization">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L179" >}}">function <b>memoryUtilization</b></a>
</h2>
<div class="pdoc-module-contents">
{{% md %}}

<pre class="highlight"><span class='kd'></span>memoryUtilization(change?: <a href='#EcsMetricChange'>EcsMetricChange</a>): <a href='#Metric'>Metric</a></pre>


The percentage of memory that is used in the cluster or service.

Cluster memory utilization (metrics that are filtered by ClusterName without ServiceName) is
measured as the total memory in use by Amazon ECS tasks on the cluster, divided by the total
amount of memory that was registered for all of the container instances in the cluster.
Cluster memory utilization metrics are only used for tasks using the EC2 launch type.

Service memory utilization (metrics that are filtered by ClusterName and ServiceName) is
measured as the total memory in use by the tasks that belong to the service, divided by the
total memory that is reserved for the tasks that belong to the service. Service memory
utilization metrics are used for tasks using both the Fargate and EC2 launch types.

Valid dimensions: ClusterName, ServiceName.

Valid statistics: Average, Minimum, Maximum, Sum, Sample Count. The most useful statistic is
Average.

Unit: Percent.

{{% /md %}}
</div>
<h2 class="pdoc-module-header" id="metric">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L64" >}}">function <b>metric</b></a>
</h2>
<div class="pdoc-module-contents">
{{% md %}}

<pre class="highlight"><span class='kd'></span>metric(metricName: <a href='#EcsMetricName'>EcsMetricName</a>, change: <a href='#EcsMetricChange'>EcsMetricChange</a>): <a href='#Metric'>Metric</a></pre>


Creates an AWS/ECS metric with the requested [metricName]. See
https://docs.aws.amazon.com/AmazonECS/latest/developerguide/cloudwatch-metrics.html for list of
all metric-names.

Note, individual metrics can easily be obtained without supplying the name using the other
[metricXXX] functions.

You can monitor your Amazon ECS resources using Amazon CloudWatch, which collects and processes
raw data from Amazon ECS into readable, near real-time metrics. These statistics are recorded for
a period of two weeks so that you can access historical information and gain a better perspective
on how your clusters or services are performing. Amazon ECS metric data is automatically sent to
CloudWatch in 1-minute periods. For more information about CloudWatch, see the
[Amazon-CloudWatch-User-Guide](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/).

Amazon ECS metrics use the AWS/ECS namespace and provide metrics for the following dimensions.

1. "ClusterName": This dimension filters the data that you request for all resources in a
   specified cluster. All Amazon ECS metrics are filtered by ClusterName.
2. "ServiceName": This dimension filters the data that you request for all resources in a
   specified service within a specified cluster.

{{% /md %}}
</div>
<h2 class="pdoc-module-header" id="EcsMetricChange">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L27" >}}">interface <b>EcsMetricChange</b></a>
</h2>
<div class="pdoc-module-contents">
<pre class="highlight"><span class='kd'>extends</span> <a href='#MetricChange'>MetricChange</a></pre>
<h3 class="pdoc-member-header" id="EcsMetricChange-cluster">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L32" >}}">property <b>cluster</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>cluster?: aws.ecs.Cluster | <a href='#Cluster'>Cluster</a>;</pre>
{{% md %}}

This dimension filters the data that you request for all resources in a specified cluster.
All Amazon ECS metrics can be filtered by this.

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-color">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L439" >}}">property <b>color</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>color?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>&gt;;</pre>
{{% md %}}

The six-digit HTML hex color code to be used for this metric.

Only used if this metric is displayed in a [Dashboard] with a [MetricWidget].

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-dimensions">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L408" >}}">property <b>dimensions</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>dimensions?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;Record&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>, <span class='kd'><a href='https://www.typescriptlang.org/docs/handbook/basic-types.html#any'>any</a></span>&gt;&gt;;</pre>
{{% md %}}

The new dimension for this metric.  If this object is missing this property, then no change
will be made.  However, if the property is there by set to [undefined] then the value will be
cleared.

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-extendedStatistic">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L426" >}}">property <b>extendedStatistic</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>extendedStatistic?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number'>number</a></span>&gt;;</pre>
{{% md %}}

The new percentile statistic for the metric associated with the alarm.  If this object is
missing this property, then no change will be made.  However, if the property is there by set
to [undefined] then the value will be set to the default.

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-label">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L448" >}}">property <b>label</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>label?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String'>string</a></span>&gt;;</pre>
{{% md %}}

The label to display for this metric in the graph legend. If this is not specified, the
metric is given an autogenerated label that distinguishes it from the other metrics in the
widget.

Only used if this metric is displayed in a [Dashboard] with a [MetricWidget].

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-period">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L414" >}}">property <b>period</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>period?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number'>number</a></span>&gt;;</pre>
{{% md %}}

The new period in seconds over which the specified `stat` is applied.  If this object is
missing this property, then no change will be made.  However, if the property is there by set
to [undefined] then the value will be set to the default (300s).

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-service">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L39" >}}">property <b>service</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>service?: aws.ecs.Service | <a href='#Service'>Service</a>;</pre>
{{% md %}}

This dimension filters the data that you request for all resources in a specified service
within a specified cluster.  If this is an [awsx.ecs.Service] then [cluster] is not required.
If this is an [aws.ecs.Service] then [cluster] is required.

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-statistic">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L420" >}}">property <b>statistic</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>statistic?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<a href='#MetricStatistic'>MetricStatistic</a>&gt;;</pre>
{{% md %}}

The new statistic to apply to the alarm's associated metric.  If this object is missing this
property, then no change will be made.  However, if the property is there by set to
[undefined] then the value will be set to the default.

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-unit">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L432" >}}">property <b>unit</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>unit?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<a href='#MetricUnit'>MetricUnit</a>&gt;;</pre>
{{% md %}}

The new unit for this metric.   If this object is missing this property, then no change will
be made.  However, if the property is there by set to [undefined] then the value will be set
to the default.

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-visible">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L456" >}}">property <b>visible</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>visible?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='kd'><a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean'>boolean</a></span>&gt;;</pre>
{{% md %}}

Set this to true to have the metric appear in the graph, or false to have it be hidden. The
default is true.

Only used if this metric is displayed in a [Dashboard] with a [MetricWidget].

{{% /md %}}
</div>
<h3 class="pdoc-member-header" id="EcsMetricChange-yAxis">
<a class="pdoc-child-name" href="{{< pkg-url pkg="awsx" path="cloudwatch/metric.ts#L463" >}}">property <b>yAxis</b></a>
</h3>
<div class="pdoc-member-contents">
<pre class="highlight"><span class='kd'></span>yAxis?: <a href='/docs/reference/pkg/nodejs/pulumi/pulumi/#Input'>pulumi.Input</a>&lt;<span class='s2'>"left"</span> | <span class='s2'>"right"</span>&gt;;</pre>
{{% md %}}

Where on the graph to display the y-axis for this metric. The default is left.

Only used if this metric is displayed in a [Dashboard] with a [MetricWidget].

{{% /md %}}
</div>
</div>
<h2 class="pdoc-module-header" id="EcsMetricName">
<a class="pdoc-member-name" href="{{< pkg-url pkg="awsx" path="ecs/metrics.ts#L24" >}}">type <b>EcsMetricName</b></a>
</h2>
<div class="pdoc-module-contents">
<pre class="highlight"><span class='kd'>type</span> EcsMetricName = <span class='s2'>"CPUReservation"</span> | <span class='s2'>"CPUUtilization"</span> | <span class='s2'>"MemoryReservation"</span> | <span class='s2'>"MemoryUtilization"</span> | <span class='s2'>"GPUReservation"</span>;</pre>
</div>
